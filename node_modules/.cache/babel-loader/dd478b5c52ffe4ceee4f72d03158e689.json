{"remainingRequest":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/thread-loader/dist/cjs.js!/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/babel-loader/lib/index.js!/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/src/components/VoteForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/src/components/VoteForm.vue","mtime":1558980298609},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-widget-base/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\nexport default {\n  name: \"VoteForm\",\n  props: [\"comment\"],\n  data: function data() {\n    return {\n      profileId: \"5cd29cac64d95068c5f5002c\",\n      vote: {\n        commentId: \"\",\n        _creator: {\n          id: \"5cd29cac64d95068c5f5002c\",\n          fullName: \"John Doe\"\n        }\n      }\n    };\n  },\n  methods: {\n    likeButtonHandler: function likeButtonHandler(event) {\n      var _this = this;\n\n      this.vote.commentId = event.currentTarget.id;\n      axios.post(\"http://localhost/api/vote\", this.vote).then(function (resp) {\n        _this.$store.dispatch(\"GET_COMMENTS_BY_POOLEVENT_ID\", '5cd29cda64d95068c5f5002d');\n      }).catch(function (err) {});\n    },\n    dislikeButtonHandler: function dislikeButtonHandler(comment) {\n      var _this2 = this;\n\n      var voteId = this.findCurrentUserVoteId(comment._votes);\n\n      if (voteId) {\n        axios.delete(\"http://localhost/api/vote/\" + voteId).then(function (resp) {\n          _this2.$store.dispatch(\"GET_COMMENTS_BY_POOLEVENT_ID\", '5cd29cda64d95068c5f5002d');\n        }).catch(function (err) {});\n      }\n    },\n    isLiked: function isLiked(votes) {\n      var _this3 = this;\n\n      var result = votes.find(function (vote) {\n        return vote._creator.id === _this3.profileId;\n      });\n      return result !== undefined;\n    },\n    findCurrentUserVoteId: function findCurrentUserVoteId(votes) {\n      var _this4 = this;\n\n      var result = votes.find(function (vote) {\n        return vote._creator.id === _this4.profileId;\n      });\n      return result._id;\n    },\n    deleteComment: function deleteComment() {\n      alert(\"deleted!\");\n    }\n  }\n};",{"version":3,"sources":["VoteForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,KAAA,MAAA,OAAA;AACA,KAAA,CAAA,QAAA,CAAA,eAAA,GAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,CAAA,SAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,0BADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AACA,UAAA,EAAA,EAAA,0BADA;AAEA,UAAA,QAAA,EAAA;AAFA;AAFA;AAFA,KAAA;AAUA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,6BACA,KADA,EACA;AAAA;;AACA,WAAA,IAAA,CAAA,SAAA,GAAA,KAAA,CAAA,aAAA,CAAA,EAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,2BADA,EACA,KAAA,IADA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CACA,8BADA,EAEA,0BAFA;AAIA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA,CAAA,CARA;AASA,KAZA;AAaA,IAAA,oBAbA,gCAaA,OAbA,EAaA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,qBAAA,CAAA,OAAA,CAAA,MAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CACA,MADA,CACA,+BAAA,MADA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CACA,8BADA,EAEA,0BAFA;AAIA,SAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA,CAAA,CARA;AASA;AACA,KA1BA;AA2BA,IAAA,OA3BA,mBA2BA,KA3BA,EA2BA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,QAAA,CAAA,EAAA,KAAA,MAAA,CAAA,SAAA;AACA,OAFA,CAAA;AAGA,aAAA,MAAA,KAAA,SAAA;AACA,KAhCA;AAiCA,IAAA,qBAjCA,iCAiCA,KAjCA,EAiCA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,QAAA,CAAA,EAAA,KAAA,MAAA,CAAA,SAAA;AACA,OAFA,CAAA;AAGA,aAAA,MAAA,CAAA,GAAA;AACA,KAtCA;AAuCA,IAAA,aAvCA,2BAuCA;AACA,MAAA,KAAA,CAAA,UAAA,CAAA;AACA;AAzCA;AAfA,CAAA","sourcesContent":["<template>\n  <el-form ref=\"vote\" :model=\"vote\">\n    <div class=\"like-container\">\n      <input\n        v-if=\"isLiked(comment._votes)\"\n        type=\"image\"\n        class=\"heart\"\n        :id=\"comment._id\"\n        src=\"https://img.icons8.com/office/31/000000/hearts.png\"\n        @click.prevent=\"dislikeButtonHandler(comment)\"\n      >\n\n      <input\n        v-else-if=\"!isLiked(comment._votes) && comment._votes.length!==0\"\n        type=\"image\"\n        :id=\"comment._id\"\n        @click.prevent=\"likeButtonHandler($event)\"\n        src=\"https://img.icons8.com/ios/34/000000/hearts.png\"\n      >\n      <input\n        type=\"image\"\n        :id=\"comment._id\"\n        v-else\n        @click.prevent=\"likeButtonHandler($event)\"\n        class=\"like-button\"\n        src=\"https://img.icons8.com/ios/34/000000/hearts.png\"\n      >\n    </div>\n  </el-form>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\n\nexport default {\n  name: \"VoteForm\",\n  props: [\"comment\"],\n  data() {\n    return {\n      profileId: \"5cd29cac64d95068c5f5002c\",\n      vote: {\n        commentId: \"\",\n        _creator: {\n          id: \"5cd29cac64d95068c5f5002c\",\n          fullName: \"John Doe\"\n        }\n      }\n    };\n  },\n  methods: {\n    likeButtonHandler(event) {\n      this.vote.commentId = event.currentTarget.id;\n      axios\n        .post(\"http://localhost/api/vote\", this.vote)\n        .then(resp => {\n          this.$store.dispatch(\n            \"GET_COMMENTS_BY_POOLEVENT_ID\",\n            '5cd29cda64d95068c5f5002d'\n          );\n        })\n        .catch(err => {});\n    },\n    dislikeButtonHandler(comment) {\n      let voteId = this.findCurrentUserVoteId(comment._votes);\n      if (voteId) {\n        axios\n          .delete(\"http://localhost/api/vote/\" + voteId)\n          .then(resp => {\n            this.$store.dispatch(\n              \"GET_COMMENTS_BY_POOLEVENT_ID\",\n              '5cd29cda64d95068c5f5002d'\n            );\n          })\n          .catch(err => {});\n      }\n    },\n    isLiked(votes) {\n      let result = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return result !== undefined;\n    },\n    findCurrentUserVoteId(votes) {\n      let result = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return result._id;\n    },\n    deleteComment() {\n      alert(\"deleted!\");\n    }\n  }\n};\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/components"}]}
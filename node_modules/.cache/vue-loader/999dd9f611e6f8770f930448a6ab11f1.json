{"remainingRequest":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/src/components/VoteForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/src/components/VoteForm.vue","mtime":1559059154504},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bilal/Schreibtisch/studi-project/comment-widget/vca-upsweep/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\nimport { store } from \"../store\";\n\nexport default {\n  name: \"VoteForm\",\n  props: [\"comment\"],\n  data() {\n    return {\n      profileId: \"5cd29cac64d95068c5f5002c\",\n      vote: {\n        commentId: \"\",\n        _creator: {\n          id: \"5cd29cac64d95068c5f5002c\",\n          fullName: \"John Doe\"\n        }\n      }\n    };\n  },\n  methods: {\n    likeButtonHandler(event) {\n      this.vote.commentId = event.currentTarget.id;\n      axios\n        .post(\"http://localhost/api/vote\", this.vote)\n        .then(resp => {\n          /*this.$store.dispatch(\n            \"GET_COMMENTS_BY_POOLEVENT_ID\",\n            '5cd29cda64d95068c5f5002d'\n          );*/\n        })\n        .catch(err => {});\n    },\n    dislikeButtonHandler(comment) {\n      let voteId = this.findCurrentUserVoteId(comment._votes);\n      if (voteId) {\n        axios\n          .delete(\"http://localhost/api/vote/\" + voteId)\n          .then(resp => {\n            /*this.$store.dispatch(\n              \"GET_COMMENTS_BY_POOLEVENT_ID\",\n              '5cd29cda64d95068c5f5002d'\n            );*/\n          })\n          .catch(err => {});\n      }\n    },\n    isLiked(votes) {\n      let result = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return result !== undefined;\n    },\n    findCurrentUserVoteId(votes) {\n      let vote = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return vote._id;\n    },\n    deleteComment() {\n      alert(\"deleted!\");\n    },\n    findAndDeleteVote() {\n      let vote = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return vote;\n    }\n  }\n};\n",{"version":3,"sources":["VoteForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VoteForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-form ref=\"vote\" :model=\"vote\">\n    <div class=\"like-container\">\n      <input\n        v-if=\"isLiked(comment._votes)\"\n        type=\"image\"\n        class=\"heart\"\n        :id=\"comment._id\"\n        src=\"https://img.icons8.com/office/31/000000/hearts.png\"\n        @click.prevent=\"dislikeButtonHandler(comment)\"\n      >\n\n      <input\n        v-else-if=\"!isLiked(comment._votes) && comment._votes.length!==0\"\n        type=\"image\"\n        :id=\"comment._id\"\n        @click.prevent=\"likeButtonHandler($event)\"\n        src=\"https://img.icons8.com/ios/34/000000/hearts.png\"\n      >\n      <input\n        type=\"image\"\n        :id=\"comment._id\"\n        v-else\n        @click.prevent=\"likeButtonHandler($event)\"\n        class=\"like-button\"\n        src=\"https://img.icons8.com/ios/34/000000/hearts.png\"\n      >\n    </div>\n  </el-form>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\nimport { store } from \"../store\";\n\nexport default {\n  name: \"VoteForm\",\n  props: [\"comment\"],\n  data() {\n    return {\n      profileId: \"5cd29cac64d95068c5f5002c\",\n      vote: {\n        commentId: \"\",\n        _creator: {\n          id: \"5cd29cac64d95068c5f5002c\",\n          fullName: \"John Doe\"\n        }\n      }\n    };\n  },\n  methods: {\n    likeButtonHandler(event) {\n      this.vote.commentId = event.currentTarget.id;\n      axios\n        .post(\"http://localhost/api/vote\", this.vote)\n        .then(resp => {\n          /*this.$store.dispatch(\n            \"GET_COMMENTS_BY_POOLEVENT_ID\",\n            '5cd29cda64d95068c5f5002d'\n          );*/\n        })\n        .catch(err => {});\n    },\n    dislikeButtonHandler(comment) {\n      let voteId = this.findCurrentUserVoteId(comment._votes);\n      if (voteId) {\n        axios\n          .delete(\"http://localhost/api/vote/\" + voteId)\n          .then(resp => {\n            /*this.$store.dispatch(\n              \"GET_COMMENTS_BY_POOLEVENT_ID\",\n              '5cd29cda64d95068c5f5002d'\n            );*/\n          })\n          .catch(err => {});\n      }\n    },\n    isLiked(votes) {\n      let result = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return result !== undefined;\n    },\n    findCurrentUserVoteId(votes) {\n      let vote = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return vote._id;\n    },\n    deleteComment() {\n      alert(\"deleted!\");\n    },\n    findAndDeleteVote() {\n      let vote = votes.find(vote => {\n        return vote._creator.id === this.profileId;\n      });\n      return vote;\n    }\n  }\n};\n</script>\n\n<style>\n</style>\n"]}]}